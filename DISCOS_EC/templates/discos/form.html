{% extends "layout.html" %}
{% block content %}
  <div class="toolbar">
    <div>
      <h2 style="margin:0">{{ title }}</h2>
      <div class="small">Registro y edición</div>
    </div>
    <a class="btn btn-light" href="/discos">Volver</a>
  </div>

  <form class="form" method="post">
    <div class="field">
      <div class="label">Título</div>
      <input class="input" name="titulo" value="{{ disco.titulo if disco else '' }}" placeholder="Ej: Grandes Éxitos">
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Artista</div>
        <select name="artista_id">
          <option value="0">Seleccione</option>
          {% for a in artistas %}
          <option value="{{ a.id }}" {% if disco and disco.artista_id==a.id %}selected{% endif %}>{{ a.nombre }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="field">
        <div class="label">Género</div>
        <select name="genero_id">
          <option value="0">Seleccione</option>
          {% for g in generos %}
          <option value="{{ g.id }}" {% if disco and disco.genero_id==g.id %}selected{% endif %}>{{ g.nombre }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Sello</div>
        <select name="sello_id">
          <option value="0">Seleccione</option>
          {% for s in sellos %}
          <option value="{{ s.id }}" {% if disco and disco.sello_id==s.id %}selected{% endif %}>{{ s.nombre }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="field">
        <div class="label">Precio</div>
        <input class="input" name="precio" value="{{ disco.precio if disco else '' }}" placeholder="Ej: 9.99">
      </div>
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Stock total</div>
        <input class="input" name="stock_total" value="{{ disco.stock_total if disco else '0' }}" placeholder="Ej: 10">
      </div>

      <div class="field">
        <div class="label">Activo</div>
        <select name="activo">
          <option value="1" {% if disco and disco.activo %}selected{% endif %}>Sí</option>
          <option value="0" {% if disco and not disco.activo %}selected{% endif %}>No</option>
        </select>
      </div>
    </div>

    <div class="actions">
      <button class="btn" type="submit">Guardar</button>
      <a class="btn btn-light" href="/discos">Cancelar</a>
    </div>
  </form>
{% endblock %}
